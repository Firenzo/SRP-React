<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
	<meta charset="utf-8"/>
</head>
<body>

<h1 id="srp-react">SRP-React</h1>

<p>Met deze SRP opdracht hoop ik mijn skills in programmeren weer naar een hoger niveau te brengen. Ik heb gemerkt dat veel bedrijven het prettig vinden om React.js te gebruiken in hun projecten. In de vacatures voor Front End developers zie je dit daarom ook vaak terugkomen.</p>

<p>Ik heb wel vaker gehoord over React.js, maar ik heb er nooit echt iets mee gedaan. Daarnaast heb ik ook nog nooit eerder met een framework gewerkt, dus vond ik dat het tijd werd om me hier toch in te gaan verdiepen. Dit wil ik doen door op Lynda.com een cursus te volgen. Bij het volgen van deze cursus hoop ik een beter beeld te krijgen wat React.js precies is en waarom bedrijven het zo prettig vinden.</p>

<h1 id="deopdrachtenindecursus">De opdrachten in de cursus</h1>

<p>In de cursus is er gewerkt aan meerdere opdrachten. Hieronder de beschrijving van deze opdrachten en een link naar de uitgewerkte versie.</p>

<h3 id="1.productpaginaineenwebshop">1. Productpagina in een webshop</h3>

<p><img src="documentatie-assets/shoestore1.png" alt="shoe store" title="shoe store" />
In deze opdracht werd er kennisgemaakt met React. De bedoeling van deze webpagina is dat de gebruiker een schoenmaat en een kleur kan kiezen. Op het moment dat de gebruiker een schoenmaat kiest, zullen alleen nog maar de beschikbare kleuren worden weergegeven in het volgende dropdown menu. Als de gebruiker dan vervolgens een kleur kiest, zal het plaatje van de schoen veranderen, zodat de juiste kleur wordt getoond.</p>

<p>Om dit te doen zijn er Componenten aangemaakt. Dit zijn de bouwstenen van een User Interface in React. Een van deze componenten bevat alle data bijvoorbeeld &#8220;De kleur is rood&#8221; of &#8220;De schoenmaat is 11&#8221;. Dit wordt ook wel <code>state</code> genoemd. vervolgens is deze data doorgegeven aan andere componenten via <code>props</code>. Door middel van event listeners weet React of de gebruiker iets heeft geselecteerd en kun je de state veranderen. Op het moment dat de state veranderd kijkt React welke elementen op de pagina opnieuw gerenderd moeten worden en doet dat dan ook.</p>

<p><a href="https://firenzo.github.io/SRP-React/Ch02/wip/start/">Bekijk webpagina</a></p>

<h3 id="2.eenlijstmetpersonenfilteren">2. Een lijst met personen filteren</h3>

<figure>
<img src="documentatie-assets/filter.png" alt="shoe store" title="shoe store" />
<figcaption>shoe store</figcaption>
</figure>

<p>In deze opdracht heb ik geleerd hoe je kunt werken met een filter in React. Bovenaan de pagina stonden een paar filter opties met daaronder een lijst met personen. Deze personen hebben verschillende eigenschappen. In dit geval hun beroepstitel, naam en of het een stagiair is.</p>

<p>Als extraatje werd er met animaties gewerkt. Dit werd gedaan met <code>ReactTransitionGroup</code>. Dit is een kleine library voor React waarmee je animaties kunt meegeven bij het verschijnen en verdwijnen van elementen.</p>

<p>Daarnaast werd hier ook kennis gemaakt met Controlled Form Elements. Door form elementen &#8220;Controlled&#8221; te maken, bepaald React wat er moet gebeuren met de veranderingen in de Form elementen. De browser doet hier dan niets meer mee.</p>

<p><a href="https://firenzo.github.io/SRP-React/Ch03/wip/start/">Bekijk webpagina</a></p>

<h3 id="3.statusupdatespostenineendatabase">3. Status updates posten in een Database</h3>

<p><img src="documentatie-assets/hotel.png" alt="shoe store" title="shoe store" />
In deze opdracht werden er status updates naar een database verzonden en deze werden vervolgens weer opgehaald en getoond in een lijst met de data uit de database. Deze applicatie is wel te bekijken, maar in de code wordt er naar de database verwezen met <code>localhost</code>. Hierdoor werkt de applicatie niet tenzij de data in een lokale server wordt opgeslagen.</p>

<p><a href="http://sendvid.com/nl5usizv">Bekijk video</a></p>

<p><a href="https://firenzo.github.io/SRP-React/Ch04/wip/start/">Bekijk webpagina</a></p>

<h1 id="watisreact">Wat is React?</h1>

<p>React is een Javascript Library om User Interfaces mee te bouwen. React kun je toepassen in verschillende omgevingen. Hiervoor heb je <strong>ReactDOM</strong>, <strong>ReactDOMServer</strong> en <strong>React Native</strong>.</p>

<ul>
<li><strong>ReactDOM</strong> voor React in de browser</li>
<li><strong>ReactDOMServer</strong> voor React op de server</li>
<li><strong>React Native</strong> voor het bouwen van Native apps</li>
</ul>

<p>In deze cursus wordt de focus vooral gelegd op de browser, dus wordt <strong>ReactDOM</strong> gebruikt.</p>

<p>Je kunt ervoor kiezen om React te gebruiken in nieuwe projecten, maar je kunt het ook prima toepassen in bestaande projecten.</p>

<h1 id="reactinstalleren">React Installeren</h1>

<p>Om React te installeren in een project kun je simpelweg de benodigde script tags in je HTML bestand toevoegen op deze volgorde.</p>

<pre><code class="HTML">&lt;script crossorigin src=&quot;https://unpkg.com/react@16/umd/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script crossorigin src=&quot;https://unpkg.com/react-dom@16/umd/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script crossorigin src=&quot;https://unpkg.com/create-react-class@15/create-react-class.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>Daaronder voeg je nog een script tag toe met de verwijzing naar het Javascript bestand waar je de code in gaat typen.</p>

<pre><code class="HTML">&lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>Vervolgens maak je in je HTML een <code>div</code> met een id aan op de plek waar jij wil dat React wordt toegepast.</p>

<pre><code class="HTML">&lt;div id=&quot;react-root&quot;&gt;&lt;/div&gt;
</code></pre>

<p>in je <code>app.js</code> maak je een IIFE (Immediately Invoked Function Expression) Waarin alle code komt.</p>

<pre><code class="Javascript">(function() {
  &quot;use strict&quot;;
  
  
})();

</code></pre>

<h1 id="elementaanmaken">Element aanmaken</h1>

<p>Als eerst begin je met het maken van een element die je wil laten verschijnen op de pagina. Dit doe je met <code>React.createElement()</code>. Deze functie neemt <strong>3 argumenten:</strong></p>

<ol>
<li>Type element</li>
<li>Attributen als Object</li>
<li>Wat er in het element komt tussen <code>&lt;div&gt;</code> en <code>&lt;/div&gt;</code></li>
</ol>

<p>Hieronder een voorbeeld:</p>

<pre><code class="Javascript">var ProductCustomizer = React.createElement('div', {className: &quot;customizer&quot;}, &quot;Product customizer will go here&quot; )
</code></pre>

<p><em><strong>LET OP:</strong> Als je attributen meegeeft moeten deze de naam hebben zoals die in de DOM API staan. <code>class</code> is bijvoorbeeld iets wat je in html zou typen, maar in de DOM API is dit</em> <code>className</code>.
<a href="https://reactjs.org/docs/dom-elements.html">https://reactjs.org/docs/dom-elements.html</a></p>

<p>Onder deze functie voeg je de <code>ReactDOM.render()</code> functie toe. Deze functie neemt <strong>2 argumenten:</strong></p>

<ol>
<li>Het element dat gerenderd moet worden.</li>
<li>De plek waar het gerenderd moet worden.</li>
</ol>

<pre><code class="Javascript">var ProductCustomizer = React.createElement(
	'div',
	{className: &quot;customizer&quot;},
	&quot;Product customizer will go here&quot;
)

ReactDOM.render( ProductCustomizer , document.getElementById(&quot;react-root&quot;));

</code></pre>

<h1 id="componenten">Componenten</h1>

<p>Componenten zijn de bouwstenen van een User Interface. De componenten bevatten elementen. Dit zijn de elementen die je in HTML gebruikt.</p>

<h2 id="hetbepalenvancomponenten:">Het bepalen van componenten:</h2>

<p>Bij het opstellen van een webpagina met behulp van componenten is het belangrijk dat je eerst goed kijkt welke componenten er gebruikt moeten worden. Daarnaast moet je ook bepalen welke data er gebruikt wordt en in welk component deze data moet worden opgeslagen. Dit is belangrijk, omdat <strong>data in React alleen maar doorgegeven kan worden van parent naar child</strong> en niet andersom.</p>

<p>Hieronder een voorbeeld van een webpagina. Op het moment dat de gebruiker een andere kleur kiest, zal de afbeelding van de schoen veranderen, maar ook zullen alleen de beschikbare maten worden aangegeven in het dropdown menu voor de schoenmaat.</p>

<figure>
<img src="documentatie-assets/shoestore.png" alt="shoe store" title="shoe store" />
<figcaption>shoe store</figcaption>
</figure>

<p>Dit gedeelte van de webpagina zal onderverdeeld moeten worden in 3 componenten:</p>

<ol>
<li>De afbeelding</li>
<li>De filters</li>
<li>Een parent</li>
</ol>

<figure>
<img src="documentatie-assets/components.jpg" alt="components" title="components" />
<figcaption>components</figcaption>
</figure>

<p>De data van de filter opties wordt dan opgeslagen in de parent genaamd <code>&lt;ProductCustomizer&gt;</code> en deze geeft de data dan door naar de children.</p>

<p>Op het moment dat de gebruiker een andere kleur kiest moet <code>&lt;ProductImage&gt;</code> hiervan op de hoogte zijn, zodat de kleur van de schoen veranderd kan worden. Ook moet <code>&lt;ProductFilters&gt;</code> hiervan op de hoogte zijn, zodat de juiste schoenmaten weergegeven kunnen worden.</p>

<h2 id="componentaanmaken:">Component aanmaken:</h2>

<p>Een component aanmaken doe je met behulp van <strong>een functie of een class</strong>. Functies zijn makkelijker om te maken, maar classes ondersteunen alle functies van React.</p>

<h3 id="componentalsfunctie:">Component als functie:</h3>

<p><strong>Een component functie heeft altijd een parameter genaamd <code>props</code>.</strong> Daarnaast moet de naam van een component functie altijd met een <strong>hoofdletter</strong> beginnen. Zo weet React het verschil tussen componenten en elementen. Ook weet de browser extensie &#8220;React Developer Tools&#8221; het verschil tussen elementen en componenten. Dit is prettiger voor debugging.</p>

<pre><code class="Javascript">function MyComponent(props){
	//code goes here...
}
</code></pre>

<p>Deze functie geeft een element terug. Dit doe je weer met <code>return React.createElement(..., ..., ...)</code></p>

<p>voorbeeld:</p>

<pre><code class="Javascript">function MyComponent(props){
	return React.createElement(
		'div',
		{className: &quot;customizer&quot;},
		&quot;Product customizer will go here&quot;
	)
}
</code></pre>

<h3 id="componentalsclass:">Component als class:</h3>

<p>Omdat er in deze cursus een javascript bestand <code>create-react-class.js</code> is geimplementeerd, is het mogelijk om je classes als volgt te schrijven:</p>

<pre><code class="Javascript">var MyComponent = createReactClass({
	render: function{
		return React.createElement(
			'div',
			{className: &quot;customizer&quot;},
			&quot;Product customizer will go here&quot;
		)
	}
})
</code></pre>

<p>Je kunt componenten ook als ES6 class schrijven. Dit doe je op deze manier:</p>

<pre><code class="Javascript">class MyComponent extends React.Component {

	render(){
		return React.createElement(
			'div',
			{className: &quot;customizer&quot;},
			&quot;Product customizer will go here&quot;
		)
	}
}
</code></pre>

<h2 id="componentenincomponenten">Componenten in componenten</h2>

<p>Om een element aan te maken in React gebruik je dus <code>React.createElement()</code>. Binnen een element kun je ook children toevoegen. Dit doe je door als derde argument nog een <code>React.createElement()</code> functie mee te geven.</p>

<pre><code class="Javascript">function ProductCustomizer(props) {
	return.React.createElement(
		&quot;div&quot;,
		{ className: &quot;customizer&quot; },
		React.createElement(
			&quot;div&quot;,
			{ className: &quot;product-image&quot; },
			&quot;image goes here&quot;
		)
	);
}
</code></pre>

<p>Ook is het mogelijk om in een component een ander component toe te voegen. Hiervoor moet je eerst een ander component aanmaken. Vervolgens gebruik je <code>React.createElement(NaamVanComponent)</code>. Dit zal er als volgt uitzien:</p>

<pre><code class="Javascript">function ProductImage(props) {
	return React.createElement(&quot;img&quot;, {
		src: &quot;../../../assets/red.jpg&quot;,
		alt: &quot;Product image&quot;
	});
}

function ProductCustomizer(props) {
	return.React.createElement(
		&quot;div&quot;,
		{ className: &quot;customizer&quot; },
		React.createElement(
			&quot;div&quot;,
			{ className: &quot;product-image&quot; },
			React.createElement(ProductImage)
		)
	);
}
</code></pre>

<p>De component<code>ProductCustomizer</code> zal er volgens de virtual DOM van React als volgt uitzien.</p>

<pre><code class="HTML">&lt;ProductCustomizer&gt;
	&lt;div class=&quot;customizer&quot;&gt;
		&lt;div class=&quot;product-image&quot;&gt;
			&lt;ProductImage&gt;
				&lt;img src=&quot;../../../assets/red.jpg&quot; alt=&quot;product image&quot; /&gt;
			&lt;/ProductImage&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/ProductCustomizer&gt;
</code></pre>

<h1 id="jsxes6babel">JSX, ES6 &amp; Babel</h1>

<p>Om binnen een element nog een element aan te maken, zul je dus opnieuw de functie <code>React.createElement()</code> moeten aanroepen. Dat is nogal veel werk en het kan snel onoverzichtelijk worden.</p>

<p>Gelukkig is er JSX! Dit is een extensie van Javascript die het mogelijk maakt om <strong>HTML code te gebruiken in Javascript.</strong> Hierdoor hoef je <code>React.createElement()</code> niet steeds opnieuw aan te roepen. JSX wordt alleen niet ondersteund door browsers, dus zal deze code omgeschreven moeten worden naar iets dat de browser wel begrijpt. Dit doet Babel voor je. Babel is een transpiler die ervoor zorgt dat de code weer wordt omgeschreven in iets wat de browser begrijpt. JSX wordt dus weer gewoon Javascript. Babel werkt ook voor ES6.</p>

<p>ES6 verwijst naar een nieuwere versie van Javascript. Deze versie heeft een uitgebreidere syntax en zorgt dus voor meer mogelijkheden. Zo kun je bijvoorbeeld nu gemakkelijk classes aanmaken, wat handig is, omdat React hier ook gebruik van maakt.</p>

<p>Om Babel te gebruiken, kun je een programma zoals Prepros of Codekit gebruiken. In dit programma kun je dan aangeven welke transpiler je wil gebruiken voor een bepaald Javascript bestand. De code wordt dan omgeschreven zodra er een wijziging is gemaakt in het bestand. De omgeschreven code komt dan in een ander bestand. in dit geval komt de code in <code>app-min.js</code>. Het is daarom ook belangrijk dat je naar dit bestand verwijst in je HTML.</p>

<pre><code>&lt;script src=&quot;app-min.js&quot;&gt;&lt;/script&gt;
</code></pre>

<figure>
<img src="documentatie-assets/codekit-babel.jpg" alt="codekit" title="codekit" />
<figcaption>codekit</figcaption>
</figure>

<p>Als je gebruik maakt van Babel hoef je geen <code>React.createElement</code> meer te gebruiken. Je kunt nu simpelweg een functie schrijven die HTML code teruggeeft. Deze HTML code moet wel tussen <code>()</code> haakjes staan. Daarnaast kun je maar 1 element teruggeven. Dit element mag wel children hebben.</p>

<p>voorbeeld:</p>

<pre><code class="JSX">function MyComponent(props){
	return (
		&lt;div className=&quot;peopleList&quot;&gt;
			&lt;ul&gt;
				&lt;li&gt;Tony Hawk&lt;/li&gt;
				&lt;li&gt;Michael Jackson&lt;/li&gt;
				&lt;li&gt;Will Smith&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
	)
}
</code></pre>

<p>Als je toch meerdere elementen wilt toevoegen die geen children van elkaar zijn, kun je dit op verschillende manieren oplossen. Je kunt net zoals in HTML de elementen samenvoegen in een <code>&lt;div&gt;</code>. Ook kun je <strong><code>&lt;React.Fragment&gt;</code></strong> gebruiken. Dit gebruik je precies op dezelfde manier als een <code>&lt;div&gt;</code> tag, maar alleen wordt deze tag niet gerenderd.</p>

<pre><code class="JSX">function MyComponent(props){
	return (
		&lt;React.Fragment&gt;
			&lt;div&gt;Child 1&lt;/div&gt;
			&lt;div&gt;Child 2&lt;/div&gt;
			&lt;div&gt;Child 3&lt;/div&gt;
		&lt;/React.Fragment&gt;
	)
}
</code></pre>

<h2 id="verwijzennaarcomponenteninjsx">Verwijzen naar componenten in JSX</h2>

<p>Verwijzen naar een component kun je in JSX ook heel makkelijk doen. Dit doe je door de naam van de component als &#8220;HTML&#8221; tag te typen. Dit ziet er als volgt uit:</p>

<pre><code class="JSX">function MyComponent(){
	return(
		&lt;div&gt;
			&lt;MyOtherComponent /&gt;
		&lt;/div&gt;
	)
}

</code></pre>

<h1 id="elementenrenderenaandehandvandataineenarray">Elementen renderen aan de hand van data in een array</h1>

<figure>
<img src="documentatie-assets/shoestore.png" alt="shoe store" title="shoe store" />
<figcaption>shoe store</figcaption>
</figure>

<p>Op de webpagina van de schoenenwinkel staan twee dropdowns. Eentje voor de schoenmaten en de andere voor de kleur van de schoen. Het kan zijn de data hiervan afkomstig is uit een API. Hierdoor zullen in de dropdowns alleen de beschikbare schoenmaten en kleuren weergegeven worden. In deze cursus is er geen gebruik gemaakt van een API, maar dit is wel nagebootst door de data op te slaan in <code>window.Inventory</code>.</p>

<p>Om een lijst met de beschikbare schoenmaten te maken wil je iets hebben dat er als volgt uitziet:</p>

<pre><code class="HTML">&lt;div class=&quot;field-group&quot;&gt;
	&lt;label for=&quot;size-options&quot;&gt;Size:&lt;/label&gt;
	&lt;select name=&quot;sizeOptions&quot; id=&quot;size-options&quot;&gt;
		&lt;option&gt;7&lt;/option&gt;
		&lt;option&gt;7.5&lt;/option&gt;
		&lt;option&gt;8&lt;/option&gt;
		&lt;option&gt;8.5&lt;/option&gt;
		&lt;option&gt;9&lt;/option&gt;
		&lt;option&gt;9.5&lt;/option&gt;
		&lt;option&gt;10&lt;/option&gt;
		&lt;option&gt;10.5&lt;/option&gt;
		&lt;option&gt;11&lt;/option&gt;
		&lt;option&gt;11.5&lt;/option&gt;
		&lt;option&gt;12&lt;/option&gt;
		&lt;option&gt;12.5&lt;/option&gt;
	&lt;/select&gt;
&lt;/div&gt;
</code></pre>

<p>Dit kun je in React doen door een nieuw <strong>component als functie</strong> aan te maken waarbij de HTML teruggegeven wordt:</p>

<pre><code class="JSX">function SizeSelector(props){
	return (
		&lt;div className=&quot;field-group&quot;&gt;
			&lt;label htmlFor=&quot;size-options&quot;&gt;Size:&lt;/label&gt;
			&lt;select name=&quot;sizeOptions&quot; id=&quot;size-options&quot;&gt;
				&lt;option&gt;7&lt;/option&gt;
				&lt;option&gt;7.5&lt;/option&gt;
				&lt;option&gt;8&lt;/option&gt;
				&lt;option&gt;8.5&lt;/option&gt;
				&lt;option&gt;9&lt;/option&gt;
				&lt;option&gt;9.5&lt;/option&gt;
				&lt;option&gt;10&lt;/option&gt;
				&lt;option&gt;10.5&lt;/option&gt;
				&lt;option&gt;11&lt;/option&gt;
				&lt;option&gt;11.5&lt;/option&gt;
				&lt;option&gt;12&lt;/option&gt;
				&lt;option&gt;12.5&lt;/option&gt;
			&lt;/select&gt;
		&lt;/div&gt;
	)
}
</code></pre>

<p>De <code>&lt;option&gt;</code> tags kunnen vervolgens allemaal weggelaten worden aangezien deze tags worden bepaald aan de hand van de data in <code>window.Inventory</code>. Dit kun je doen door middel van een helper functie. Deze functie maak je aan binnen het component.</p>

<p>Aangezien alle schoenmaten netjes in een array zitten, kunnen deze worden gegenereerd met behulp van de <code>map()</code> functie. Deze functie neemt als argument een functie waarin verteld wordt wat er met elk item in de array moet gebeuren. Deze functie bevat ook een parameter waarvan je zelf de naam kunt bepalen. Deze parameter verwijst naar elk item van de array. In dit voorbeeld is elk item in de array een nummer, dus wordt er als parameter <code>num</code> gebruikt.</p>

<pre><code class="Javascript">window.Inventory.allSizes.map(function(num){
	//Wat er moet gebeuren met elk item
});
</code></pre>

<p>Voor elk item in de array moet er een <code>&lt;option&gt;</code> element worden aangemaakt met daar in het nummer uit de array. Dit doe je als volgt:</p>

<pre><code class="JSX">window.Inventory.allSizes.map(function(num){
	return(
		&lt;option value={num} key={num}&gt;{num}&lt;/option&gt;
	)
});
</code></pre>

<p><strong>LET OP:</strong></p>

<ol>
<li><p><em>Javascript Expressions in JSX worden tussen curly brackets <code>{}</code> gestopt. Dit geldt dus ook voor het verwijzen naar variabelen etc.</em></p></li>
<li><p><em>Als je in React met item lists werkt, is het belangrijk dat je naast de attribuut (in dit geval <code>value</code>) ook een <code>key</code> attribuut meegeeft. Met de <code>key</code> attribuut houdt React bij welke elementen er zijn aangemaakt en kan vervolgens uitvogelen welke er geupdate moeten worden op het moment dat een component opnieuw gerenderd wordt.</em></p></li>
<li><p><em><strong>De hierboven genoemde attributen heten eigenlijk geen attributen, maar props.</strong></em></p></li>
</ol>

<p>De <code>SizeSelector</code> component ziet er in JSX dan als volgt uit:</p>

<pre><code class="JSX">function SizeSelector(props){
	
	//Helper function
	function sizeOptions(){
		window.Inventory.allSizes.map(function(num){
			return(
				&lt;option value={num} key={num}&gt;{num}&lt;/option&gt;
			)
		});
	}

	return (
		&lt;div className=&quot;field-group&quot;&gt;
			&lt;label htmlFor=&quot;size-options&quot;&gt;Size:&lt;/label&gt;
			&lt;select name=&quot;sizeOptions&quot; id=&quot;size-options&quot;&gt;
				
				{sizeOptions()} //Helper function gets called
				
			&lt;/select&gt;
		&lt;/div&gt;
	)
}
</code></pre>

<h1 id="datadoorgevenvancomponentnaarcomponent">Data doorgeven van component naar component</h1>

<p>Zoals eerder aangegeven kan data in React alleen maar van parent naar child worden doorgegeven en niet andersom. Daarom moest er van te voren goed gekeken worden naar de webpagina, zodat er bepaald kon worden welke componenten er nodig zijn en in welk component de benodigde data zich zal bevinden.</p>

<p>De componenten van de schoenenwinkel webpagina zijn zodanig opgebouwd dat alle er een parent component is met daarin children, zoals de <code>&lt;ProductImage&gt;</code> component. De benodigde data zal dus in de parent component <code>&lt;ProductCustomizer&gt;</code> worden opgeslagen en van hieruit naar de children worden doorgegeven.
<img src="documentatie-assets/components.jpg" alt="components" title="components" /></p>

<h2 id="props">Props</h2>

<p><strong>Het doorgeven van data tussen componenten</strong> doe je met props. Props kunnen van alles zijn. Denk bijvoorbeeld aan nummers, arrays, objecten, functies, strings, etc. Je kunt het ook wel zien als variabelen. Het meegeven van props aan een component in JSX ziet er net zo uit als het meegeven van attributen aan elementen in HTML. Je kunt deze props dan zelf namen geven.</p>

<pre><code class="JSX">function ProductCustomizer(props) {
    return (
      &lt;div className=&quot;customizer&quot;&gt;
        &lt;div className=&quot;product-image&quot;&gt;
          &lt;ProductImage color=&quot;red&quot; /&gt;  {/* &lt;-- Een prop wordt hier meegegeven */}
        &lt;/div&gt;
        &lt;div className=&quot;selectors&quot;&gt;
          &lt;SizeSelector size={8}/&gt; {/* &lt;-- Een prop wordt hier meegegeven */}
        &lt;/div&gt;
      &lt;/div&gt;
    );
  }
</code></pre>

<p><strong>LET OP:</strong></p>

<ol>
<li><em>Bij het meegeven van een string als prop gebruik je <code>&quot;&quot;</code></em></li>
<li><em>Bij het meegeven van functies, nummers, en alles wat een Javascript Expression is, gebruik je curly brackets <code>{}</code></em></li>
</ol>

<p>In het voorbeeld hierboven wordt de prop <code>color</code> meegegeven aan de component <code>ProductImage</code> en de prop <code>size</code> wordt meegegeven aan de component <code>SizeSelector</code>. Om de prop <code>size</code> te gebruiken in <code>SizeSelector</code> kun je binnen dit component <code>props.size</code> gebruiken. Dit is ook de reden dat elk component dat geschreven is als functie een parameter <code>props</code> heeft.</p>

<p>Hieronder wordt de <code>props.size</code> gebruikt om een <code>defaultValue</code> mee te geven aan het <code>&lt;select&gt;</code> element.</p>

<pre><code class="JSX">function SizeSelector(props){
	
	//Helper function
	function sizeOptions(){
		...
	}

	return (
		&lt;div className=&quot;field-group&quot;&gt;
			&lt;label htmlFor=&quot;size-options&quot;&gt;Size:&lt;/label&gt;
			&lt;select defaultValue={props.size} name=&quot;sizeOptions&quot; id=&quot;size-options&quot;&gt;
				{sizeOptions()} {/*Helper function gets called*/}
			&lt;/select&gt;
		&lt;/div&gt;
	)
}
</code></pre>

<h1 id="state">State</h1>

<p>Aan een component kun je ook een state meegeven. Dit kan in het voorbeeld van de schoenenwinkel webpagina een kleur zijn die is gekozen door de gebruiker. Je kunt dan een state <code>color</code> meegeven waar React vervolgens iets mee doet. In dit geval de kleur van de schoen veranderen. <strong>Om hier gebruik van te kunnen maken MOET je component niet geschreven zijn als functie, maar als class.</strong> Het omschrijven van de <code>ProductCustomizer</code> component met behulp van <code>create-react-class.js</code> doe je als volgt:</p>

<pre><code class="JSX">var ProductCustomizer = createReactClass({
	render: function(){
		return (
			&lt;div className=&quot;customizer&quot;&gt;
				&lt;div className=&quot;product-image&quot;&gt;
					&lt;ProductImage color=&quot;red&quot; /&gt;
				&lt;/div&gt;
				&lt;div className=&quot;selectors&quot;&gt;
					&lt;SizeSelector size={8} /&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		)
	}
})
</code></pre>

<p>Omdat er een state gebruikt zal worden, moet deze ook toegevoegd worden aan de class. in CreateReactClass doe je dit met <code>getInitialState</code></p>

<pre><code class="JSX">var ProductCustomizer = createReactClass({
	getInitialState: function(){
		return {
			color: &quot;&quot;,
			size: 8,
			sizes: window.Inventory.allSizes;
		}
	},

	render: function(){
		return (
			&lt;div className=&quot;customizer&quot;&gt;
				&lt;div className=&quot;product-image&quot;&gt;
					&lt;ProductImage color={this.state.color} /&gt; {/*verwijzing naar state*/}
				&lt;/div&gt;
				&lt;div className=&quot;selectors&quot;&gt;
					&lt;SizeSelector size={this.state.size} sizes={this.states.sizes} /&gt; {/*verwijzing naar state*/}
				&lt;/div&gt;
			&lt;/div&gt;
		)
	}
})
</code></pre>

<p>In <code>getInitialState</code> zitten de states <code>color</code>, <code>size</code> en <code>sizes</code>. Het verwijzen naar een state in de render functie doe je met <code>this.state.naamVanState</code>. Deze states kun je ook terug zien in de React Developer Tools. Deze states kun je ook hier veranderen om te kijken wat er met het component gebeurd zodra hij opnieuw rendert. Erg handig voor debugging!</p>

<figure>
<img src="documentatie-assets/state.jpg" alt="state" title="state" />
<figcaption>state</figcaption>
</figure>

<h2 id="stateveranderenincode">State veranderen in code</h2>

<p>De state kun je ook veranderen in de code. Dit is immers nodig om een applicatie te kunnen bouwen. Om in de schoenenwinkel website de state <code>size</code>te vervangen, moet er eerst gekeken worden welke schoenmaat de gebruiker heeft gekozen. Hiervoor moet er dus een event listener gebruikt worden. Je wil weten of de gekozen schoenmaat is veranderd door de gebruiker, dus voeg je een <code>onChange event</code> listener toe aan het <code>&lt;select&gt;</code> element:</p>

<pre><code class="JSX">&lt;select defaultValue={props.size} name=&quot;sizeOptions&quot; id=&quot;size-options&quot; onChange={onSizeChange}&gt;
</code></pre>

<p>Hierin verwijst <code>{onSizeChange}</code> naar een functie die nog geschreven moet worden. In deze functie komt de code die verteld wat er moet gebeuren op het moment dat de gebruiker een andere schoenmaat kiest. Deze functie wordt binnen de component <code>SizeSelector</code> geschreven.</p>

<pre><code class="Javascript">function onSizeChange(evt){
	//verander state
}
</code></pre>

<p>Hier loop je tegen een klein probleempje aan. Je kunt de state namelijk niet direct vanuit deze functie veranderen. De state zit namelijk in de parent en er kan geen data van een child naar een parent worden doorgegeven, dus kan de state niet veranderd worden vanuit dit component. Om dit op te lossen kun je een functie schrijven in de parent waar de state zich bevindt, in dit geval <code>ProductCustomizer</code>. Deze functie geef je mee als prop naar de child, in dit geval <code>SizeSelector</code>. Vervolgens roep je in de functie <code>onSizeChange</code> deze prop aan.</p>

<p><strong>ProductCustomizer:</strong></p>

<pre><code class="JSX">var ProductCustomizer = createReactClass({
    getInitialState: function() {
      var sizes = window.Inventory.allSizes,
        colors = window.Inventory.allColors;

      return {
        color: &quot;red&quot;,
        colors: colors,
        size: 8,
        sizes: sizes
      };
    },
    
   	// functie die de state veranderd
    handleSizeChange: function(selectedSize){
    	
    	this.setState({
    		size: selectedSize,
    	})
    }

    render: function() {
      return (
        &lt;div className=&quot;customizer&quot;&gt;
          &lt;div className=&quot;product-image&quot;&gt;
            &lt;ProductImage color={this.state.color} /&gt;
          &lt;/div&gt;
          &lt;div className=&quot;selectors&quot;&gt;
            &lt;SizeSelector size={this.state.size} sizes={this.state.sizes} handleSizeChange={this.handleSizeChange} /&gt; {/* de functie handleSizeChange wordt als prop meegegeven aan SizeSelector component*/}
            &lt;ColorSelector color={this.state.color} colors={this.state.colors} /&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      );
    }
  });
</code></pre>

<p><strong>SizeSelector:</strong></p>

<pre><code class="JSX">function SizeSelector(props) {
    function sizeOptions() {
      return props.sizes.map(function(num) {
        return (
          &lt;option value={num} key={num}&gt;
            {num}
          &lt;/option&gt;
        );
      });
    }
    
    function onSizeChange(evt){
    	props.handleSizeChange(evt.target.value) //functie wordt aangeroepen vanuit props en de geselecteerde waarde voor de schoenmaat wordt als nummer meegegeven als argument.
    }

    return (
      &lt;div className=&quot;field-group&quot;&gt;
        &lt;label htmlFor=&quot;size-options&quot;&gt;Size:&lt;/label&gt;
        &lt;select defaultValue={props.size} name=&quot;sizeOptions&quot; id=&quot;size-options&quot; onChange={onSizeChange} value&quot;&quot;&gt;
          {sizeOptions()}
        &lt;/select&gt;
      &lt;/div&gt;
    );
  }
</code></pre>

<p>De state verander je niet direct door in de ProductCustomizer <code>this.state = ...</code> te gebruiken. Hier heeft React een functie voor. Binnen de het component ProductCustomizer, dat als class is geschreven, kun je <code>this.setState()</code> gebruiken. Deze functie neemt als argument een object waarin alle veranderingen komen. Het veranderen van de state voor de schoenmaat ziet er dan als volgt uit:</p>

<pre><code class="Javascript">	this.setState({
		size: 8
	})
</code></pre>

<p>De <code>setState()</code> functie is een asynchrone functie. Daardoor kan het zijn dat de state nog niet is veranderd op het moment dat je een andere functie wil uitvoeren. Gelukkig neemt <code>setState()</code> ook een tweede argument aan. Dit tweede argument is een callback functie die wordt uitgevoerd op het moment dat de state daadwerkelijk is bijgewerkt.</p>

<h1 id="nawoord">Nawoord</h1>

<p>Door deze cursus te volgen heb ik vrij veel geleerd!
Naast het kennismaken met React, heb ik ook gelijk een beetje kennis gemaakt met Javascript ES6 en JSX. Ik heb hiervoor nog nooit met ES6 gewerkt en dat is voor React ook niet verplicht, maar als ik de cursus die ik heb gevolgd mag geloven maakt veel van de React documentatie die online staat gebruik van ES6. Het is daarom wel handig om hier het een en ander van te weten.</p>

<p>Daarnaast heb ik ook geleerd om een transpiler als Babel te gebruiken. Om dit gemakkelijk te doen heb ik gebruik gemaakt van codekit. Ik had dit programma al een tijdje geleden gekocht, maar nooit echt gebruikt. Voor het werken met React lijkt het me wel erg prettig om te gebruiken!</p>

<p>Op dit moment begrijp ik voor een deel waarom zoveel bedrijven graag werken met React. Het is namelijk erg handig om te werken met componenten. De componenten kunnen bijvoorbeeld hergebruikt worden wat voor grote websites handig kan zijn. Daarnaast vind ik het ook handig dat React gebruik maakt van states. Voorheen maakte ik dit soort variabelen zelf aan, maar niet op zo&#8217;n gestructureerde manier als React dat doet. Verder vind ik het ook fijn om &#8220;HTML&#8221; te kunnen typen in combinatie Javascript.</p>

<p>Ik ben erg blij dat ik deze cursus heb gevolgd op Lynda.com over het werken met React. De uitleg was vrij simpel en ik kon alles redelijk goed volgen. In het begin vond ik het nog vrij ingewikkeld om met React te werken, maar dit kwam vooral omdat React nog nieuw voor mij was. Het werken met event listeners die de state moeten veranderen in een parent component vond ik het lastigst, maar gelukkig begrijp ik dit nu wel. Na een paar keer nauwkeurig naar de code te kijken, kon ik toch achterhalen wat er precies gebeurde.</p>

<p>Ik denk dat ik nog veel kan leren over React door deze library bijvoorbeeld toe te passen in mijn eigen projecten. Dit is dan ook iets wat ik met veel plezier zou doen!</p>

</body>
</html>

